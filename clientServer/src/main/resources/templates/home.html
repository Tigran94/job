<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <title>Title</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
    <script type = "text/javascript" th:src="@{/js/jobIdAjax.js}"/>
</head>
<body>
<div class="header">
    <div>
        <span>Welcome To Job.am </span>
        <span th:text="${parameter}"/>
        <a class="header_buttons" href="/profile" sec:authorize="hasRole('ROLE_ADMIN')">My Profile</a>
        <a class="header_buttons" href="/settings" sec:authorize="hasRole('ROLE_USER')">Settings</a>

        <div id="imgdiv">
            <!-- <img src="<spring:url value='${imageSource}'/>" id="profileImage"> -->
        </div>
    </div>
    <div sec:authorize="hasRole('ROLE_ANONYMOUS')">
        <a class="header_buttons" href="/login">Login</a>
        <a class="header_buttons" href="/signup">Sign UP</a>
        <!-- <a class="header_buttons" href="/" ${hiddenBack}>Back</a> -->
    </div>
</div>
<div class="main_home">
    <div class="titles">
        <form id="form" action="/" method="post">
            <div class="formdiv">
                <div class="labels">
                    <label for="typename">Type: </label>
                </div>
                <div class="vals">
                    <select name="type" id="typename">
                        <option></option>
                        <option value="IT">IT</option>
                        <option value="Marketing">Marketing</option>
                    </select>
                </div>
            </div>
            <div class="formdiv">
                <div class="labels">
                    <label for="salarytype">Salary: </label>
                </div>
                <div class="vals">
                    <input id="salarytype" type="text" name="salary"/>
                </div>
            </div>
            <div class="formdiv">
                <div class="labels">
                    <label for="worktime">Work Time: </label>
                </div>
                <div class="vals">
                    <select id="worktime" name="workTime">
                        <option></option>
                        <option value="Half Time">Half Time</option>
                        <option value="Full Time">Full Time</option>
                        <option value="Remote">Remote</option>
                    </select>
                </div>
            </div>
            <div class="formdiv">
                <input id="filter" type="submit" th:value="Filter"/>
            </div>
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        </form>
        <div class="mrg">
            <ul id="list">
                <span class="err" th:text="${noJobTitlesFound}"></span>
                <th:block th:each="jobTitle : ${jobTitles}">
                    <form action="/apply" method="post">
                        <li>
                            <div class="derow">
                                <div class="deleft">
                                    <input type="hidden" name="jobId" th:value="${jobTitle.id}"/>
                                    <div sec:authorize="hasRole('ROLE_USER')">
                                        <input type="image" th:src="@{/images/image.png}" sec:authorize="hasRole('ROLE_USER')" onclick="Warm()" />
                                    </div>
                                </div>
                                <div class="deright">
                                    <a th:value="${jobTitle.id}" th:text="${jobTitle.title}" name="jobID"/>
                                </div>
                            </div>
                        </li>
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    </form>
                </th:block>
            </ul>
        </div>
    </div>
    <div class="content">
        <div class="tablerow">
            <div class="left">
                <p id="title"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left">
                <p id="description"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left">
                <p id="type"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left">
                <p id="salary"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left">
                <p id="time"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left">
                <p id="email"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left" >
                <p id="company"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left" >
                <p id="postDate"></p>
            </div>
        </div>
        <div class="tablerow">
            <div class="left" >
                <p id="expDate"></p>
            </div>
        </div>
    </div>
</div>
</body>
</html>